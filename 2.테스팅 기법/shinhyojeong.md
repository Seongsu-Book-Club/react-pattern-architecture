# 2.테스팅 기법

## 리액트 테스팅

### 테스트가 필요한 이유

- 코드가 의도한 방향으로 동작하고 있음을 검증
- 코드를 변경하면서 기존에 동작하던 기능을 깨트리는 회귀를 방지
- 리팩터링, 업데이트 과정에서의 안정성
- 코드 품질 향상 가능
- 코드의 동작에 대한 문서를 작성

### 테스트 종류

- 단위 테스트
  - 컴포넌트, 함수 단위의 테스트로 작은 단위의 코드들이 격리된 환경에서 잘 동작하는지 테스트합니다.
  - `jest` `react-testing-library`
- 통합 테스트
  - 다른 모듈과 서비스들을 통합적으로 테스트로 시스템을 통합할 때 생길 수 있는 문제들을 테스트합니다.
  - `jest` `react-testing-library`
- E2E 테스트
  - 어플리케이션의 동작 흐름에 맞게 사용자 플로우를 테스트합니다.
  - `cypress`

## 일반적인 리팩터링 기법 살펴보기

- 변수 이름 바꾸기
- 함수 추출하기
- 매개변수 객체 도입
- 조건문 분해하기
- 함수 분리하기

## 리액트에서의 테스트 주도 개발

### TDD(Test Driven Development)

#### 장점

- 작성한 테스트에 대한 문제에만 집중할 수 있음
- 다음 작업에 대한 예측이 쉬움
- 테스트 통과를 목적으로 작성한 코드는 단순하며 유지보수가 쉬움
- 테스트 커버리지를 보장하여 어플이 안전성을 높임

#### 종류

- ATDD(Acceptance Test Driven Development)

  - 이해관계자들고 사용자 관점에서 완료 상태를 정의한 후 코드 작성
  - 사용자의 요구사항을 확실하게 반영할 수 있음

- BDD(Behavior Driven Development)

  - 시스템이 조건에 따라 예상한대로 동작하는지를 확인
  - 서술적인 언어 사용으로 비개발자도 쉽게 이해 가능

#### 태스킹

기능을 태스크 단위로 나눠 테스트 케이스의 기본 단위로 활용한다. 문제를 단순화시키고 우선순위를 쉽게 결정할 수 있게 된다.

## 파트 후기

- 실무에서 테스트를 어느정도까지 작성하나요 ?

  - 우리 회사는 아직 작성하지 않음
  - 스타트업(기능이 빠르게 추가되고 사라지는) 환경에서도 통합, cypress 테스트를 작성하는지 ? 단점보다 장점이 많아질 거라는 생각도 든다 🤔

- 유틸 함수 같은 작은 단위의 기능들을 제외하면 TDD가 프론트에서도 사용될 수 있는가 ?
  - 기능에 대한 코드들이 UI에 온전히 독립적일 수 없다는 생각이 들어 한번에 할 작업을 여러번에 걸쳐 해야하는 번거로움이 발생할 수도 있을 것 같다는 생각도 든다
  - 오히려 BDD가 FE 단에서는 더 유용한 방법론이 될 것 같다

## 진행 목표

- 실무 환경에서 사용자 중심의 e2e 테스트 작성하기, 범위와 구조에 대해 고민하기
- 변화가 작은 스타트업 실무 환경에서 유지보수성 좋은 구조를 고민하기
- 유지보수성 좋은 코드에 대해 고민하고 실무에 적용해보기
